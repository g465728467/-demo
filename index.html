<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
    <title>Document</title>
    <style>
        html,
        body,
            {
            height: 100%;
        }

        #view {
            top: 0;
            height: 80%;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
        }

        .list {
            height: 60%;
            width: 80%;
            margin-left: -20px;
        }

        .list::after {
            display: block;
            clear: both;
            content: '';
        }

        img {
            float: left;
            margin-left: 20px;
            margin-bottom: 20px;
            width: calc(100%/3 - 26px);
            border: 3px solid gray;
        }
    </style>
</head>

<body>
    <!-- <p style="width: 339.73px;background-color: red">123</p> -->
    <div id="view">
        <div class="list">

            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=1">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=2">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=3">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=4">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=5">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=6">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=7">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=8">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=9">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=10">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=11">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=12">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=13">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=14">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=15">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=16">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=17">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=18">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=19">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=20">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=21">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=22">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=23">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=24">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=25">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=26">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=27">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=28">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=29">
            <img src="img/loading.gif" data-src="https://picsum.photos/200/200/?image=30">
        </div>
        <!-- </div> -->
    </div>
    <script>
        app = {
                init: function () {
                    app.star();
                    app.scroll();
                },
                star: function () {
                    $('img').not('[data-isLoaded]').each(function () {
                        var node = $(this)
                        if (app.isbottom(node)) {
                            app.loaddata(node)
                        }
                    })
                },
                scroll: function () {
                    $(window).on('scroll', function () {
                        app.star()
                    })

                },
                isbottom: function ($node) {
                    let view = $(window).height()
                    let scrolly = $(window).scrollTop()
                    let node = $node.offset().top;
                    return (view + scrolly) >= node
                },
                loaddata: function ($img) {
                    $img.attr('src', $img.attr('data-src'));
                    $img.attr('data-isloaded', 1)
                }
        }
        app.init();
    </script>
</body>

</html>